[{"path":"/articles/example-single.html","id":"first-set-up-the-correct-day-and-time","dir":"Articles","previous_headings":"","what":"First set up the correct day and time","title":"Example processing a single time point","text":"agroforestry app, can select single moment simulation. moment defined Time day, Day Leaf growth setting. enable easy conversion UTC time corresponding input, developed convert_utc_solar() function:","code":"library(tidyverse) library(agroforlight)  datetime <- \"2024-05-26 11:00:00\" convert_utc_solar(datetime = datetime, lat = 50.5, lon = 3.8) #> $day_for_app #> [1] 157 #>  #> $time_for_app #> [1] 11.26667"},{"path":"/articles/example-single.html","id":"run-the-3-d-calculation","dir":"Articles","previous_headings":"","what":"Run the 3-D calculation","title":"Example processing a single time point","text":"Day Time day settings can used input simulation, assume leaves present: Pressing Calculate moment generate download csv file name moment_157_11_100.csv, : moment refers fact single moment simulation, 157 Day setting, 11 refers hour moment situated, 100 refers fully developed leaves (1.0 100%) save name moment_157_11_100_tree.csv.","code":""},{"path":"/articles/example-single.html","id":"run-an-empty-scene-for-reference","dir":"Articles","previous_headings":"","what":"Run an empty scene for reference","title":"Example processing a single time point","text":"application provide light intensities outputs, run field set-, without trees: Latitude, Rotation Inclination Geography settings, Size, Count, Render resolution Diffusion lights Sensor settings, Time day Day Calculation settings: downside application, requires additional step, can also serve quick quality check. save result empty scene name moment_157_11_100_ref.csv.","code":""},{"path":"/articles/example-single.html","id":"convert-the-app-output-to-real-world-values","dir":"Articles","previous_headings":"","what":"Convert the app output to real-world values","title":"Example processing a single time point","text":"Consider measurement global radiation 500 W m-2, position world defined latitude 50.5 °N longitude 3.8 °E. latitude provided https://agroforestry.ugent.application. calculate conversion follows: can visualized using ggplot2::geom_tile():  orientation setting field 0.0, means x axis aligns North-South axis. effect three tree rows, oriented along x axis, clearly visible, Time day 11.27, slightly solar noon.","code":"TreeRows <- \"moment_157_11_100_tree.csv\" converted_data <- convert_afl_1(treescene_file = TreeRows, globrad = 500, lat = 50.9, lon = 3.78) head(converted_data) #> # A tibble: 6 × 6 #>   datetime            pos_x pos_y direct_rad diffuse_rad total_rad #>   <dttm>              <dbl> <dbl>      <dbl>       <dbl>     <dbl> #> 1 2020-05-26 10:59:37  -7.5  -7.5      104.         197.      301. #> 2 2020-05-26 10:59:37  -7.5  -6.5       59.9        182.      242. #> 3 2020-05-26 10:59:37  -7.5  -5.5      112.         196.      307. #> 4 2020-05-26 10:59:37  -7.5  -4.5      130.         199.      330. #> 5 2020-05-26 10:59:37  -7.5  -3.5      130.         196.      327. #> 6 2020-05-26 10:59:37  -7.5  -2.5      130.         185.      315. ggplot(data = converted_data) +   theme_bw() +   geom_tile(mapping = aes(x= pos_x, y= pos_y, fill = total_rad)) +   scale_fill_viridis_c()"},{"path":"/articles/example-timeseries.html","id":"set-up-a-phenology-file","dir":"Articles","previous_headings":"","what":"Set up a phenology file","title":"Example processing a time series","text":"temperate deciduous tree species, trees bear leaves Winter, leaves appear Spring, stay present Summer, fall Autumn. presence leaves important impact light interception trees, therefore part 3-D simulation tool available https://agroforestry.ugent.. presence leaves represented value 0 1, 0 corresponds leaves, 1 corresponds fully developed canopy. extent canopy size can adjusted using Trees parameters Leaf length, Leaf width, Leaves per twig Max twig radius. extent lea development changes season, provide option load csv file time dependent leaf presence. developed simple function make_phenology_file() now allows generate linear increase decrease leaf presence, separated period fully developed canopy:","code":"library(tidyverse) library(agroforlight)  make_phenology_file(\"phenology.csv\", doy_start_flush = 135, doy_stop_flush = 150, doy_start_fall = 300, doy_stop_fall = 320)  phenology <- read_delim(file = \"phenology.csv\", col_names = F, delim = \",\")  ggplot(phenology) +   theme_bw() +   geom_line(mapping = aes(x= 1:366, y=phenology$X1)) +   labs(x = \"Day\", y = \"Leaf growth\")"},{"path":"/articles/example-timeseries.html","id":"run-the-simulation-with-the-phenology-file","dir":"Articles","previous_headings":"","what":"Run the simulation with the phenology file","title":"Example processing a time series","text":"can now import phenology.csv file application, choose requested Time step (60 minutes example) press Calculate year. calculation progress show progress bar orange panel: calculation took approximately 3 minutes (check browser uses best GPU card) complete results two files: sunlight.csv: containing data direct source diffuse_light.csv: containing data diffuse sources rename sunlight_tree.csv diffuse_light_tree.csv.","code":""},{"path":"/articles/example-timeseries.html","id":"run-the-simulation-without-the-trees","dir":"Articles","previous_headings":"","what":"Run the simulation without the trees","title":"Example processing a time series","text":"Just like vignette(\"example-single\"), run simulation empty scene Geography Sensors settings Time step:  rename resulting csv files sunlight_ref.csv diffuse_light_ref.csv.","code":""},{"path":"/articles/example-timeseries.html","id":"convert-the-data","dir":"Articles","previous_headings":"","what":"Convert the data","title":"Example processing a time series","text":"convert data output actual light intensities, now need time series radiation measurements. example, data ten min interval entire year 2020:","code":"ggplot(example_data) +    theme_bw() +   geom_line(mapping = aes(x=datetime, y=radiation), linewidth = 1.0) converted_data <- convert_afl_ts(treescene_dir_file = \"sunlight_tree.csv\",                                  treescene_diff_file = \"diffuse_light_tree.csv\",                                  datetime = example_data$datetime, globrad = example_data$radiation,                                  lat = 50.9, lon = 3.78,                                   sensor_size = 1, inclination = 0, rotation = 0) head(converted_data) #> # A tidytable: 6 × 6 #>   datetime            diffuse_rad direct_rad pos_x pos_y total_rad #>   <dttm>                    <dbl>      <dbl> <dbl> <dbl>     <dbl> #> 1 2019-12-31 22:48:41           0          0  -7.5  -7.5         0 #> 2 2019-12-31 23:49:16           0          0  -7.5  -7.5         0 #> 3 2020-01-01 00:49:16           0          0  -7.5  -7.5         0 #> 4 2020-01-01 01:49:16           0          0  -7.5  -7.5         0 #> 5 2020-01-01 02:49:16           0          0  -7.5  -7.5         0 #> 6 2020-01-01 03:49:16           0          0  -7.5  -7.5         0"},{"path":"/articles/example-timeseries.html","id":"aggregate-and-visualize","dir":"Articles","previous_headings":"","what":"Aggregate and visualize","title":"Example processing a time series","text":"Light distribution pattern three time points year: around noon 21 February (doy = 52) around noon 21 April (doy = 112) around noon 28 June (doy = 180)  Remove edge effects: filter((pos_x, -1.5, 1.5))","code":"converted_data %>%   # filter(between(pos_x, -3.5, 3.5)) %>%   mutate(doy = yday(datetime)) %>%   filter(doy %in% c(52, 112, 180)) %>%   filter(hour(datetime) == 13) %>%   ggplot() +   theme_bw() +   facet_wrap(facets = vars(doy), nrow = 3) +   geom_tile(aes(x= pos_y, y=pos_x, fill = total_rad)) +   scale_fill_viridis_c() converted_data %>%   filter(between(pos_x, -1.5, 1.5)) %>%   mutate(doy = yday(datetime)) %>%   filter(between(datetime, as_datetime(\"2020-06-28 09:00:00\"), as_datetime(\"2020-06-28 14:00:00\")), between(pos_y, -8, 0)) %>%   group_by(pos_y, datetime) %>%   reframe(total_rad = mean(total_rad)) %>%   ggplot() +   theme_bw() +   geom_line(aes(x= pos_y, y=total_rad, color = as.factor(datetime), group = as.factor(datetime)), linewidth = 1)+   scale_fill_viridis_d() +   theme(legend.position = 'top')"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Tom De Swaef. Author, maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"De Swaef T (2024). agroforlight: Function collection 3D light model processing. R package version 0.0.0.9000.","code":"@Manual{,   title = {agroforlight: Function collection for 3D light model processing},   author = {Tom {De Swaef}},   year = {2024},   note = {R package version 0.0.0.9000}, }"},{"path":"/index.html","id":"agroforlight","dir":"","previous_headings":"","what":"Function collection for 3D light model processing","title":"Function collection for 3D light model processing","text":"goal agroforlight provide functions enable processing results 3-D tool agroforestry light simulations available https://agroforestry.ugent..","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Function collection for 3D light model processing","text":"can install development version agroforlight GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"tdeswaef/agroforlight\")"},{"path":"/index.html","id":"field-design","dir":"","previous_headings":"","what":"Field design","title":"Function collection for 3D light model processing","text":"application available https://agroforestry.ugent.allows run 3-D simulation agroforestry field, using LiDAR scans real trees designing field outline.","code":"library(agroforlight)"},{"path":"/index.html","id":"light-distribution-calculation","dir":"","previous_headings":"","what":"Light distribution calculation","title":"Function collection for 3D light model processing","text":"field designed, one can calculate light distribution single moment, entire year. Time day Day settings define position sun (given Latitude Geography panel), whereas Leaf growth setting defines presence leaves trees, ranging 0 (leaves) 1 (leaves fully developed). Time day setting refers solar time, value 12 corresponds solar noon (highest position sun day, south), 0 corresponds lowest position sun. Day setting refers day number solar year, starting December 21 (Day = 0). enable easy conversion UTC time solar time, required input, developed convert_utc_solar() convert_solar_utc() functions.","code":""},{"path":"/index.html","id":"light-conversion","dir":"","previous_headings":"","what":"Light conversion","title":"Function collection for 3D light model processing","text":"output application available https://agroforestry.ugent.contains value per sensor per time point. unit value m2, corresponds area sensor can seen sun, diffuse sources. calculations conversion covered functions convert_afl_ts() time series convert_afl_1() single moment based principles described . theoretical maximum value per sensor sensor’s surface area (), results Size Count settings Sensors panel: $$= \\frac{Size_{x} \\times Size_{y}}{Count_{x} \\times Count_{y}}$$. value can reached sun source, sun zenith, scene objects present sun sensor. reference, un-shaded value A0 can calculated following formula: A0 = cos (θ) × cos (β) + sin(θ) × sin (β) × cos (ϕ−γ) θ solar angle zenith, β inclination angle field, ϕ solar azimuthal angle north γ rotation angle field. diffuse sources remain latitudes times, reference value A0, resulting weighted average available sources, constant value around 0.58. scale application output real light intensity, one needs data set un-shaded solar radiation required temporal resolution (I0). data set split diffuse direct components using calc_light_attr() function. direct diffuse fractions used re-scale application output sensor light fraction (subscript f diffuse direct): $$ I_{s,f} = I_{0,f} \\times \\frac{A_{s,f}}{A_{0,f}} $$","code":""},{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 agroforlight authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/reference/calc_light_attr.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the diffuse and direct components of solar radiation and solar position — calc_light_attr","title":"Calculate the diffuse and direct components of solar radiation and solar position — calc_light_attr","text":"Calculate diffuse direct components solar radiation solar position","code":""},{"path":"/reference/calc_light_attr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the diffuse and direct components of solar radiation and solar position — calc_light_attr","text":"","code":"calc_light_attr(datetime, globrad, lat, lon)"},{"path":"/reference/calc_light_attr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the diffuse and direct components of solar radiation and solar position — calc_light_attr","text":"datetime Single multiple DateTime. Can character UTC (YYYY-MM-DD HH:mm:ss) POSIXct globrad Incoming global radiation W m-2. length match length datetime. lat Latitude field ° lon Longitude field °","code":""},{"path":"/reference/calc_light_attr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the diffuse and direct components of solar radiation and solar position — calc_light_attr","text":"tibble : datetime: DateTime object globrad: global radiation W m-2 frac_diff: fraction diffuse light global radiation (0-1) rad_diff: diffuse component global radiation W m-2 rad_dir: direct component global radiation W m-2 theta: sun angle zenith radians (0 zenith PI/2 horizon) phi: sun azimuth radians (direction along horizon, measured north east), e.g. 0 north \\(\\frac{\\pi}{4}\\) northeast","code":""},{"path":"/reference/calc_light_attr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate the diffuse and direct components of solar radiation and solar position — calc_light_attr","text":"","code":"out <- calc_light_attr(globrad = 600, lat = 50.95, lon = 3.8, datetime = \"2022-06-21 12:00:00\")"},{"path":"/reference/convert_afl_1.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert the 3D simulation moment data into diffuse and direct light intensity — convert_afl_1","title":"Convert the 3D simulation moment data into diffuse and direct light intensity — convert_afl_1","text":"Convert 3D simulation moment data diffuse direct light intensity","code":""},{"path":"/reference/convert_afl_1.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert the 3D simulation moment data into diffuse and direct light intensity — convert_afl_1","text":"","code":"convert_afl_1(   treescene_file,   globrad,   lat,   lon,   sensor_size = 1,   inclination = 0,   rotation = 0 )"},{"path":"/reference/convert_afl_1.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert the 3D simulation moment data into diffuse and direct light intensity — convert_afl_1","text":"treescene_file path file app output single moment simulation scene trees globrad Incoming global radiation W m-2 lat Latitude field ° lon Longitude field ° sensor_size surface area sensor sensor field m² inclination Inclination setting (Geography) field simulation degrees rotation Rotation setting (Geography) field simulation degrees","code":""},{"path":"/reference/convert_afl_1.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert the 3D simulation moment data into diffuse and direct light intensity — convert_afl_1","text":"tibble variables datetime, pos_x, pos_y, direct_rad, diffuse_rad, total_rad","code":""},{"path":"/reference/convert_afl_ts.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert the 3D simulation time series data into diffuse, direct and total light intensity — convert_afl_ts","title":"Convert the 3D simulation time series data into diffuse, direct and total light intensity — convert_afl_ts","text":"Convert 3D simulation time series data diffuse, direct total light intensity","code":""},{"path":"/reference/convert_afl_ts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert the 3D simulation time series data into diffuse, direct and total light intensity — convert_afl_ts","text":"","code":"convert_afl_ts(   treescene_dir_file,   treescene_diff_file,   datetime,   globrad,   lat,   lon,   sensor_size = 1,   inclination = 0,   rotation = 0 )"},{"path":"/reference/convert_afl_ts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert the 3D simulation time series data into diffuse, direct and total light intensity — convert_afl_ts","text":"treescene_dir_file path file app output direct light treescene_diff_file path file app output diffuse light datetime Single multiple DateTime. Can character UTC (YYYY-MM-DD HH:mm:ss) POSIXct globrad Incoming global radiation W m-2 lat Latitude field ° lon Longitude field ° sensor_size surface area sensor sensor field m² inclination Inclination setting (Geography) field simulation degrees rotation Rotation setting (Geography) field simulation degrees","code":""},{"path":"/reference/convert_afl_ts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert the 3D simulation time series data into diffuse, direct and total light intensity — convert_afl_ts","text":"tibble variables datetime, pos_x, pos_y, total_rad","code":""},{"path":"/reference/convert_afl_ts.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert the 3D simulation time series data into diffuse, direct and total light intensity — convert_afl_ts","text":"simulation output generated using application available https://agroforestry.ugent.full year. output restricted time period globrad data provided. sensor_size result (Sensor_Size_x x Sensor_Size_y) / (Sensors_Count_x x Sensors_Count_y)","code":""},{"path":"/reference/convert_data_1.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert the 3D simulation moment data into diffuse and direct light intensity — convert_data_1","title":"Convert the 3D simulation moment data into diffuse and direct light intensity — convert_data_1","text":"Convert 3D simulation moment data diffuse direct light intensity","code":""},{"path":"/reference/convert_data_1.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert the 3D simulation moment data into diffuse and direct light intensity — convert_data_1","text":"","code":"convert_data_1(conv_factors, treescene_file)"},{"path":"/reference/convert_data_1.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert the 3D simulation moment data into diffuse and direct light intensity — convert_data_1","text":"conv_factors tibble produced make_conv_factors_1 function treescene_file path file app output single moment simulation scene trees","code":""},{"path":"/reference/convert_data_1.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert the 3D simulation moment data into diffuse and direct light intensity — convert_data_1","text":"tibble variables datetime, pos_x, pos_y, direct_rad, diffuse_rad, total_rad","code":""},{"path":"/reference/convert_data_ts.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert the 3D simulation time series data into diffuse, direct and total light intensity — convert_data_ts","title":"Convert the 3D simulation time series data into diffuse, direct and total light intensity — convert_data_ts","text":"Convert 3D simulation time series data diffuse, direct total light intensity","code":""},{"path":"/reference/convert_data_ts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert the 3D simulation time series data into diffuse, direct and total light intensity — convert_data_ts","text":"","code":"convert_data_ts(   conv_factors,   treescene_dir_file,   treescene_diff_file,   lat,   lon )"},{"path":"/reference/convert_data_ts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert the 3D simulation time series data into diffuse, direct and total light intensity — convert_data_ts","text":"conv_factors tibble produced make_conv_factors_ts function treescene_dir_file path file app output direct light treescene_diff_file path file app output diffuse light lat Latitude field ° lon Longitude field °","code":""},{"path":"/reference/convert_data_ts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert the 3D simulation time series data into diffuse, direct and total light intensity — convert_data_ts","text":"tibble variables datetime, pos_x, pos_y, total_rad","code":""},{"path":"/reference/convert_data_ts.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert the 3D simulation time series data into diffuse, direct and total light intensity — convert_data_ts","text":"simulation output generated using application available https://agroforestry.ugent.full year. output restricted time period globrad data provided make_conv_factors_ts function.","code":""},{"path":"/reference/convert_solar_utc.html","id":null,"dir":"Reference","previous_headings":"","what":"Date and time conversion for input in agroforestry app — convert_solar_utc","title":"Date and time conversion for input in agroforestry app — convert_solar_utc","text":"convert time UTC solar time 12:00 solar noon convert date solar day 0 = December 21","code":""},{"path":"/reference/convert_solar_utc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Date and time conversion for input in agroforestry app — convert_solar_utc","text":"","code":"convert_solar_utc(solar_day, solar_time, year = 2020, lat, lon)"},{"path":"/reference/convert_solar_utc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Date and time conversion for input in agroforestry app — convert_solar_utc","text":"solar_day Day used input app (integer 0-365), 0 21 December solar_time Hour used input app (0-23.99), 12 corresponds solar noon year Year output needed lat Latitude field ° lon Longitude field °","code":""},{"path":"/reference/convert_solar_utc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Date and time conversion for input in agroforestry app — convert_solar_utc","text":"datetime: UTC","code":""},{"path":"/reference/convert_solar_utc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Date and time conversion for input in agroforestry app — convert_solar_utc","text":"","code":"convert_solar_utc(solar_day = 180, solar_time = 12, lat = 50.5, lon = 3.8) #> Error in h(simpleError(msg, call)): error in evaluating the argument 'x' in selecting a method for function 'as_date': object 'datetime' not found"},{"path":"/reference/convert_utc_solar.html","id":null,"dir":"Reference","previous_headings":"","what":"Date and time conversion for input in agroforestry app — convert_utc_solar","title":"Date and time conversion for input in agroforestry app — convert_utc_solar","text":"convert time UTC solar time 12:00 solar noon convert date solar day 0 = December 21","code":""},{"path":"/reference/convert_utc_solar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Date and time conversion for input in agroforestry app — convert_utc_solar","text":"","code":"convert_utc_solar(datetime, lat, lon)"},{"path":"/reference/convert_utc_solar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Date and time conversion for input in agroforestry app — convert_utc_solar","text":"datetime Single DateTime. Can character UTC (YYYY-MM-DD HH:mm:ss) POSIXct lat Latitude field ° lon Longitude field °","code":""},{"path":"/reference/convert_utc_solar.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Date and time conversion for input in agroforestry app — convert_utc_solar","text":"list : day_for_app: day number input https://agroforestry.ugent.app time_for_app: Time day input https://agroforestry.ugent.app","code":""},{"path":"/reference/convert_utc_solar.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Date and time conversion for input in agroforestry app — convert_utc_solar","text":"","code":"convert_utc_solar(\"2024-06-21 12:00:00\", lat = 50.5, lon = 3.8) #> $day_for_app #> [1] 183 #>  #> $time_for_app #> [1] 12.2 #>"},{"path":"/reference/diffdir_fun.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the diffuse and direct component of solar radiation on a horizontal plane — diffdir_fun","title":"Calculate the diffuse and direct component of solar radiation on a horizontal plane — diffdir_fun","text":"Calculate diffuse direct component solar radiation horizontal plane","code":""},{"path":"/reference/diffdir_fun.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the diffuse and direct component of solar radiation on a horizontal plane — diffdir_fun","text":"","code":"diffdir_fun(datetime, globrad, lat, lon)"},{"path":"/reference/diffdir_fun.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the diffuse and direct component of solar radiation on a horizontal plane — diffdir_fun","text":"datetime Single multiple DateTime. Can character UTC (YYYY-MM-DD HH:mm:ss) POSIXct globrad Incoming global radiation W m-2. length match length datetime. lat Latitude field ° lon Longitude field °","code":""},{"path":"/reference/diffdir_fun.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the diffuse and direct component of solar radiation on a horizontal plane — diffdir_fun","text":"tibble : datetime: DateTime object globrad: global radiation W m-2 frac_diff: fraction diffuse light global radiation (0-1) rad_diff: diffuse component global radiation W m-2 rad_dir: direct component global radiation W m-2 theta: sun angle zenith radians (0 zenith PI/2 horizon) phi: sun azimuth radians (direction along horizon, measured north east), e.g. 0 north \\(\\frac{\\pi}{4}\\) northeast","code":""},{"path":"/reference/diffdir_fun.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate the diffuse and direct component of solar radiation on a horizontal plane — diffdir_fun","text":"","code":"out <- diffdir_fun(globrad = 600, lat = 50.95, lon = 3.8, datetime = \"2022-06-21 12:00:00\")"},{"path":"/reference/make_conv_factors_1.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculates conversion factors for a single simulation — make_conv_factors_1","title":"Calculates conversion factors for a single simulation — make_conv_factors_1","text":"Calculates conversion factors single simulation","code":""},{"path":"/reference/make_conv_factors_1.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculates conversion factors for a single simulation — make_conv_factors_1","text":"","code":"make_conv_factors_1(emptyscene_file, datetime, globrad, lat, lon)"},{"path":"/reference/make_conv_factors_1.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculates conversion factors for a single simulation — make_conv_factors_1","text":"emptyscene_file Path file app output empty scene datetime Single DateTime. Can character UTC (YYYY-MM-DD HH:mm:ss) POSIXct globrad Incoming global radiation W m-2 lat Latitude field ° lon Longitude field °","code":""},{"path":"/reference/make_conv_factors_1.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculates conversion factors for a single simulation — make_conv_factors_1","text":"tibble two rows following variables: light: \"sunlight\" \"diffuse light\" refvalue: reference value used light conversion app_day: Day used https://agroforestry.ugent.app (0 = December 21) app_hour: Time day used https://agroforestry.ugent.app (12 = solar noon) app_pheno: Leaf growth stage https://agroforestry.ugent.app (0 = leaves, 1 = leaves fully developed) radiation: direct diffuse radiation fractions( W m-2) convfactor: conversion factor direct light (sunlight) diffuse light","code":""},{"path":"/reference/make_conv_factors_1.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculates conversion factors for a single simulation — make_conv_factors_1","text":"","code":"make_conv_factors_1(emptyscene_file = \"moment_180_12_100_ref.csv\", lat = 50.8, lon = 3.8, globrad = 500, datetime = \"2024-03-21 12:00:00\") #> Error: File 'moment_180_12_100_ref.csv' does not exist or is non-readable. getwd()=='C:/Users/tdeswaef/Repos/agroforlight/docs/reference'"},{"path":"/reference/make_conv_factors_ts.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculates conversion factors for a time series (year) simulation — make_conv_factors_ts","title":"Calculates conversion factors for a time series (year) simulation — make_conv_factors_ts","text":"Calculates conversion factors time series (year) simulation","code":""},{"path":"/reference/make_conv_factors_ts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculates conversion factors for a time series (year) simulation — make_conv_factors_ts","text":"","code":"make_conv_factors_ts(   emptyscene_dir_file,   emptyscene_diff_file,   datetime,   globrad,   lat,   lon )"},{"path":"/reference/make_conv_factors_ts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculates conversion factors for a time series (year) simulation — make_conv_factors_ts","text":"emptyscene_dir_file Path file app output direct light emptyscene_diff_file Path file app output diffuse light datetime Single multiple DateTime. Can character UTC (YYYY-MM-DD HH:mm:ss) POSIXct globrad Incoming global radiation W m-2 lat Latitude field ° lon Longitude field °","code":""},{"path":"/reference/make_conv_factors_ts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculates conversion factors for a time series (year) simulation — make_conv_factors_ts","text":"tibble variables datetime, ConvFactorDiffuse, ConvFactorDirect","code":""},{"path":"/reference/make_conv_factors_ts.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculates conversion factors for a time series (year) simulation — make_conv_factors_ts","text":"simulation output generated using application available https://agroforestry.ugent.full year starting \"start_year-12-21\". output restricted time period globrad data provided.","code":""},{"path":"/reference/make_phenology_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Write a phenology file for input to the 3-D simulation application — make_phenology_file","title":"Write a phenology file for input to the 3-D simulation application — make_phenology_file","text":"Write phenology file input 3-D simulation application","code":""},{"path":"/reference/make_phenology_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write a phenology file for input to the 3-D simulation application — make_phenology_file","text":"","code":"make_phenology_file(   filename,   doy_start_flush,   doy_stop_flush,   doy_start_fall,   doy_stop_fall,   shape = \"linear\" )"},{"path":"/reference/make_phenology_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write a phenology file for input to the 3-D simulation application — make_phenology_file","text":"filename Path filename phenology file written doy_start_flush Day year onset leaf appearance doy_stop_flush Day year leaves fully developed doy_start_fall Day year leaves start fall doy_stop_fall Day year leaves fallen shape shape phenology development. See details","code":""},{"path":"/reference/make_phenology_file.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write a phenology file for input to the 3-D simulation application — make_phenology_file","text":"writes csv file","code":""},{"path":"/reference/make_phenology_file.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Write a phenology file for input to the 3-D simulation application — make_phenology_file","text":"day year inputs transformed proper day input application available https://agroforestry.ugent., 'solar year' starts December 21. Therefore, output, onset leaf development appear 11 days later. now linear shape available.","code":""},{"path":"/reference/make_phenology_file.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Write a phenology file for input to the 3-D simulation application — make_phenology_file","text":"","code":"if (FALSE) make_phenology_file(\"pheno_01.csv\", 120, 134, 280, 310)"},{"path":"/reference/timetosolar.html","id":null,"dir":"Reference","previous_headings":"","what":"Date and time conversion for input in agroforestry app — timetosolar","title":"Date and time conversion for input in agroforestry app — timetosolar","text":"convert time UTC solar time 12:00 solar noon convert date solar day 0 = December 21","code":""},{"path":"/reference/timetosolar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Date and time conversion for input in agroforestry app — timetosolar","text":"","code":"timetosolar(datetime, lat, lon)"},{"path":"/reference/timetosolar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Date and time conversion for input in agroforestry app — timetosolar","text":"datetime Single DateTime. Can character UTC (YYYY-MM-DD HH:mm:ss) POSIXct lat Latitude field ° lon Longitude field °","code":""},{"path":"/reference/timetosolar.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Date and time conversion for input in agroforestry app — timetosolar","text":"list : day_for_app: day number input https://agroforestry.ugent.app time_for_app: Time day input https://agroforestry.ugent.app","code":""},{"path":"/reference/timetosolar.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Date and time conversion for input in agroforestry app — timetosolar","text":"","code":"timetosolar(\"2024-06-21 12:00:00\", lat = 50.5, lon = 3.8) #> $day_for_app #> [1] 183 #>  #> $time_for_app #> [1] 12.2 #>"}]
